{"version":3,"sources":["../../src/pages/ocorrencia/manter/manter-ocorrencia.module.ts","../../src/models/inspecao.ts","../../src/models/ocorrencia.ts","../../src/pages/ocorrencia/manter/manter-ocorrencia.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ManterOcorrenciaPage } from './manter-ocorrencia';\n\n@NgModule({\n  declarations: [\n    ManterOcorrenciaPage\n  ],\n  imports: [\n    IonicPageModule.forChild(ManterOcorrenciaPage)\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class ManterOcorrenciaPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ocorrencia/manter/manter-ocorrencia.module.ts","import { ItemInspecao } from \"./item-inspecao\";\nimport { Ocorrencia } from \"./ocorrencia\";\nimport { RealizadoPor } from \"./realizado-por\";\n\nexport class Inspecao {\n    \n    id: number = 0;\n    idGuidInspecao: string = '';\n    idServico: number;\n    idGuidServico: string = '';\n    dataInspecao: string;\n    dataEncerramento: Date;\n    campo1: string = \"\";\n    campo2: string = \"\";\n    campo3: string = \"\";\n    campo4: string = \"\";\n    idFuncionarioAprovado: number;\n    idFuncionarioInspecionado: number;\n    status: number = 0;\n    situacao: string = 'Verificação não iniciada';\n    delete: boolean = false;\n    dataHoraAlteracao: Date = new Date();\n    usuarioInclusao: string = \"\";\n    usuarioEdicao: string = \"\";\n\n    qtdNA: number = 0;\n    qtdA: number = 0;\n    qtdR: number = 0;\n    qtdRA: number = 0;\n    qtdX: number = 0;\n\n    inspecaoObraItens: ItemInspecao[] = [];\n    ocorrencias: Ocorrencia[] = [];\n    realizadosPor: RealizadoPor[] = [];\n\n    constructor(values: Object = {}) {\n        Object.assign(this, values);\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/inspecao.ts","export class Ocorrencia {\n    \n    id: number = 0;\n    idGuidOcorrencia: string = '';\n    idInspecaoObra: number = 0;\n    idGuidInspecao: string = '';\n    idInspecaoObraItem: number;\n    descricaoInspecaoObraItem: string = '';\n    numeroInspecao: number;\n    dataDescricao: string;\n    dataTratativa: Date;\n    descricao: string = '';\n    tratativa: string = '';\n    delete?: boolean = false;\n    dataHoraInclusao: Date;\n    dataHoraAlteracao: Date = new Date();\n    \n    constructor(values: Object = {}) {\n        Object.assign(this, values);\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/ocorrencia.ts","import { Component } from '@angular/core';\nimport { IonicPage, ViewController, NavParams } from 'ionic-angular';\nimport { Ocorrencia } from '../../../models/ocorrencia';\nimport { ToastService } from '../../../utils/toast-service';\nimport { ItemInspecao } from '../../../models/item-inspecao';\nimport { Inspecao } from '../../../models/inspecao';\n\n@IonicPage()\n@Component({\n    selector: 'page-manter-ocorrencia',\n    templateUrl: 'manter-ocorrencia.html'\n})\n\nexport class ManterOcorrenciaPage {\n\n    inspecao: Inspecao = new Inspecao();\n    ocorrencia: Ocorrencia = new Ocorrencia();\n    itemInspecao: ItemInspecao;\n\n    constructor(\n        public viewCtrl: ViewController,\n        public toastService: ToastService,\n        public navParams: NavParams\n    ) {\n        if (this.navParams.data.ocorrencia.id || this.navParams.data.ocorrencia.idGuidOcorrencia) {\n            this.ocorrencia = this.navParams.data.ocorrencia;\n        }\n        this.inspecao = this.navParams.data.inspecao;\n        if (!this.ocorrencia.dataDescricao) {\n            let hoje = new Date();\n            this.ocorrencia.dataDescricao = this.converterData(hoje);\n        }\n        if (this.ocorrencia.idInspecaoObraItem) {\n            this.itemInspecao = this.inspecao.inspecaoObraItens.find(x => x.ordem + ' - ' + x.descricao == this.ocorrencia.descricaoInspecaoObraItem);\n        }\n        if (this.navParams.data.itemInspecao) {\n            this.itemInspecao = this.navParams.data.itemInspecao;\n            this.ocorrencia.numeroInspecao = 1;\n            this.popularDescricaoItem();\n        }\n    }\n\n    converterData(data: Date) {\n        let year = data.getFullYear();\n        let month = data.getMonth() + 1;\n        let day = data.getDate();\n\n        let dataFormatada = year + '-' + (month.toString().length < 2 ? '0'+month : ''+month) + '-' + (day.toString().length < 2 ? '0'+day : ''+day);\n        return dataFormatada;\n    }\n\n    salvar(valido: boolean) {\n        if (valido) {\n            this.viewCtrl.dismiss(this.ocorrencia);\n        } else {\n            this.toastService.presentToastWarning(\"É obrigatório informar a descrição e sua data.\");\n        }\n    }\n\n    voltar() {\n        this.viewCtrl.dismiss(null);\n    }\n\n    popularDescricaoItem() {\n        this.ocorrencia.descricaoInspecaoObraItem = this.itemInspecao.descricao;\n        if (this.itemInspecao.id) {\n            this.ocorrencia.idInspecaoObraItem = this.itemInspecao.id;\n        } else {\n            this.ocorrencia.idInspecaoObraItem = 0;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ocorrencia/manter/manter-ocorrencia.ts"],"sourceRoot":""}