{"version":3,"sources":["../../src/pages/ocorrencia/manter/manter-ocorrencia.module.ts","../../src/models/inspecao.ts","../../src/models/ocorrencia.ts","../../src/pages/ocorrencia/manter/manter-ocorrencia.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ManterOcorrenciaPage } from './manter-ocorrencia';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ManterOcorrenciaPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ManterOcorrenciaPage)\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class ManterOcorrenciaPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ocorrencia/manter/manter-ocorrencia.module.ts","import { ItemInspecao } from \"./item-inspecao\";\r\nimport { Ocorrencia } from \"./ocorrencia\";\r\nimport { RealizadoPor } from \"./realizado-por\";\r\n\r\nexport class Inspecao {\r\n    \r\n    id: number = 0;\r\n    idGuidInspecao: string = '';\r\n    idServico: number;\r\n    idGuidServico: string = '';\r\n    dataInspecao: string;\r\n    dataEncerramento: Date;\r\n    campo1: string = \"\";\r\n    campo2: string = \"\";\r\n    campo3: string = \"\";\r\n    campo4: string = \"\";\r\n    idFuncionarioAprovado: number;\r\n    idFuncionarioInspecionado: number;\r\n    status: number = 0;\r\n    situacao: string = 'Verificação não iniciada';\r\n    delete: boolean = false;\r\n    dataHoraAlteracao: Date = new Date();\r\n    usuarioInclusao: string = \"\";\r\n    usuarioEdicao: string = \"\";\r\n\r\n    qtdNA: number = 0;\r\n    qtdA: number = 0;\r\n    qtdR: number = 0;\r\n    qtdRA: number = 0;\r\n    qtdX: number = 0;\r\n\r\n    inspecaoObraItens: ItemInspecao[] = [];\r\n    ocorrencias: Ocorrencia[] = [];\r\n    realizadosPor: RealizadoPor[] = [];\r\n\r\n    constructor(values: Object = {}) {\r\n        Object.assign(this, values);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/inspecao.ts","export class Ocorrencia {\r\n    \r\n    id: number = 0;\r\n    idGuidOcorrencia: string = '';\r\n    idInspecaoObra: number = 0;\r\n    idGuidInspecao: string = '';\r\n    idInspecaoObraItem: number;\r\n    descricaoInspecaoObraItem: string = '';\r\n    numeroInspecao: number;\r\n    dataDescricao: string;\r\n    dataTratativa: Date;\r\n    descricao: string = '';\r\n    tratativa: string = '';\r\n    delete?: boolean = false;\r\n    dataHoraInclusao: Date;\r\n    dataHoraAlteracao: Date = new Date();\r\n    \r\n    constructor(values: Object = {}) {\r\n        Object.assign(this, values);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/ocorrencia.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, ViewController, NavParams } from 'ionic-angular';\r\nimport { Ocorrencia } from '../../../models/ocorrencia';\r\nimport { ToastService } from '../../../utils/toast-service';\r\nimport { ItemInspecao } from '../../../models/item-inspecao';\r\nimport { Inspecao } from '../../../models/inspecao';\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-manter-ocorrencia',\r\n    templateUrl: 'manter-ocorrencia.html'\r\n})\r\n\r\nexport class ManterOcorrenciaPage {\r\n\r\n    inspecao: Inspecao = new Inspecao();\r\n    ocorrencia: Ocorrencia = new Ocorrencia();\r\n    itemInspecao: ItemInspecao;\r\n\r\n    constructor(\r\n        public viewCtrl: ViewController,\r\n        public toastService: ToastService,\r\n        public navParams: NavParams\r\n    ) {\r\n        if (this.navParams.data.ocorrencia.id || this.navParams.data.ocorrencia.idGuidOcorrencia) {\r\n            this.ocorrencia = this.navParams.data.ocorrencia;\r\n        }\r\n        this.inspecao = this.navParams.data.inspecao;\r\n        if (!this.ocorrencia.dataDescricao) {\r\n            let hoje = new Date();\r\n            this.ocorrencia.dataDescricao = this.converterData(hoje);\r\n        }\r\n        if (this.ocorrencia.idInspecaoObraItem) {\r\n            this.itemInspecao = this.inspecao.inspecaoObraItens.find(x => x.ordem + ' - ' + x.descricao == this.ocorrencia.descricaoInspecaoObraItem);\r\n        }\r\n        if (this.navParams.data.itemInspecao) {\r\n            this.itemInspecao = this.navParams.data.itemInspecao;\r\n            this.ocorrencia.numeroInspecao = 1;\r\n            this.popularDescricaoItem();\r\n        }\r\n    }\r\n\r\n    converterData(data: Date) {\r\n        let year = data.getFullYear();\r\n        let month = data.getMonth() + 1;\r\n        let day = data.getDate();\r\n\r\n        let dataFormatada = year + '-' + (month.toString().length < 2 ? '0'+month : ''+month) + '-' + (day.toString().length < 2 ? '0'+day : ''+day);\r\n        return dataFormatada;\r\n    }\r\n\r\n    salvar(valido: boolean) {\r\n        if (valido) {\r\n            this.viewCtrl.dismiss(this.ocorrencia);\r\n        } else {\r\n            this.toastService.presentToastWarning(\"É obrigatório informar a descrição e sua data.\");\r\n        }\r\n    }\r\n\r\n    voltar() {\r\n        this.viewCtrl.dismiss(null);\r\n    }\r\n\r\n    popularDescricaoItem() {\r\n        this.ocorrencia.descricaoInspecaoObraItem = this.itemInspecao.descricao;\r\n        if (this.itemInspecao.id) {\r\n            this.ocorrencia.idInspecaoObraItem = this.itemInspecao.id;\r\n        } else {\r\n            this.ocorrencia.idInspecaoObraItem = 0;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ocorrencia/manter/manter-ocorrencia.ts"],"sourceRoot":""}