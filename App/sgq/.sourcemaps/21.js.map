{"version":3,"sources":["../../src/pages/verificacao/realizar/realizar-verificacao.module.ts","../../src/models/inspecao.ts","../../src/pages/verificacao/realizar/realizar-verificacao.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { RealizarVerificacaoPage } from './realizar-verificacao';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RealizarVerificacaoPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(RealizarVerificacaoPage)\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class RealizarVerificacaoPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/verificacao/realizar/realizar-verificacao.module.ts","import { ItemInspecao } from \"./item-inspecao\";\r\n\r\nexport class Inspecao {\r\n    \r\n    id: number = 0;\r\n    idGuidInspecao: string = '';\r\n    idServico: number;\r\n    dataInspecao: Date;\r\n    dataEncerramento: Date;\r\n    campo1: string = \"\";\r\n    campo2: string = \"\";\r\n    campo3: string = \"\";\r\n    campo4: string = \"\";\r\n    idFuncionarioAprovado: number;\r\n    idFuncionarioInspecionado: number;\r\n    status: number = 0;\r\n    situacao: string = 'Em aberto';\r\n    delete: boolean = false;\r\n    dataHoraAlteracao: Date = new Date();\r\n\r\n    qtdNA: number = 0;\r\n    qtdA: number = 0;\r\n    qtdR: number = 0;\r\n    qtdRA: number = 0;\r\n    qtdX: number = 0;\r\n\r\n    inspecaoObraItens: ItemInspecao[] = [];\r\n\r\n    constructor(values: Object = {}) {\r\n        Object.assign(this, values);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/inspecao.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, ViewController, NavParams } from 'ionic-angular';\r\nimport { Inspecao } from '../../../models/inspecao';\r\nimport { Funcionario } from '../../../models/funcionario';\r\nimport { Storage } from '@ionic/storage';\r\nimport { ToastService } from '../../../utils/toast-service';\r\nimport { ItemInspecao } from '../../../models/item-inspecao';\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-realizar-verificacao',\r\n    templateUrl: 'realizar-verificacao.html'\r\n})\r\n\r\nexport class RealizarVerificacaoPage {\r\n\r\n    inspecao: Inspecao = new Inspecao();\r\n    descServico: string = '';\r\n    funcionarios: Funcionario[] = [];\r\n    limpaNA1: boolean = false;\r\n    limpaA1: boolean = false;\r\n    limpaR1: boolean = false;\r\n    limpaX1: boolean = false;\r\n    limpaRA2: boolean = false;\r\n    limpaX2: boolean = false;\r\n\r\n    constructor(\r\n        public viewCtrl: ViewController,\r\n        public storage: Storage,\r\n        public toastService: ToastService,\r\n        public navParams: NavParams\r\n    ) {\r\n        this.inspecao = this.navParams.data.inspecao;\r\n        this.descServico = this.navParams.data.descServico;\r\n        this.obterFuncionarios();\r\n    }\r\n\r\n    obterFuncionarios() {\r\n        this.storage.ready().then(() => {\r\n            this.storage.get('funcionarios').then(\r\n                funcionarios => {\r\n                    this.funcionarios = funcionarios;\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n    atualizarSituacao() {\r\n        this.inspecao.situacao = this.inspecao.status == 0 ? 'Em aberto' : 'Finalizado';\r\n    }\r\n\r\n    salvar(valido: boolean) {\r\n        if (valido) {\r\n            if (this.inspecao.status == 0) {\r\n                this.viewCtrl.dismiss(this.inspecao);\r\n            } else {\r\n                const naoFinalizado = this.inspecao.inspecaoObraItens.some(x =>\r\n                    x.inspecao1 == \"\" || (x.inspecao1 == \"R\" && x.inspecao2 == \"\"));\r\n                if (naoFinalizado) {\r\n                    this.toastService.presentToastWarning(\"Não é possível salvar com status de finalizado pois existem inspeções pendentes.\");\r\n                } else {\r\n                    this.viewCtrl.dismiss(this.inspecao);\r\n                }\r\n            }\r\n        } else {\r\n            this.toastService.presentToastWarning(\"É obrigatório informar o funcionário da inspeção.\");\r\n        }\r\n    }\r\n\r\n    voltar() {\r\n        this.viewCtrl.dismiss({ inspecao: this.inspecao, concluido:false });\r\n    }\r\n\r\n    verificaLimparNA1(item: ItemInspecao) {\r\n        this.limpaA1 = false;\r\n        this.limpaR1 = false;\r\n        this.limpaX1 = false;\r\n        if (this.limpaNA1) {\r\n            item.inspecao1 = '';\r\n            this.limpaNA1 = false;\r\n        } else {\r\n            this.limpaNA1 = true;\r\n        }\r\n        item.inspecao2 = \"\";\r\n    }\r\n\r\n    verificaLimparA1(item: ItemInspecao) {\r\n        this.limpaNA1 = false;\r\n        this.limpaR1 = false;\r\n        this.limpaX1 = false;\r\n        if (this.limpaA1) {\r\n            item.inspecao1 = '';\r\n            this.limpaA1 = false;\r\n        } else {\r\n            this.limpaA1 = true;\r\n        }\r\n        item.inspecao2 = \"\";\r\n    }\r\n\r\n    verificaLimparR1(item: ItemInspecao) {\r\n        this.limpaA1 = false;\r\n        this.limpaNA1 = false;\r\n        this.limpaX1 = false;\r\n        if (this.limpaR1) {\r\n            item.inspecao1 = '';\r\n            this.limpaR1 = false;\r\n        } else {\r\n            this.limpaR1 = true;\r\n        }\r\n        item.inspecao2 = \"\";\r\n    }\r\n\r\n    verificaLimparX1(item: ItemInspecao) {\r\n        this.limpaA1 = false;\r\n        this.limpaR1 = false;\r\n        this.limpaNA1 = false;\r\n        if (this.limpaX1) {\r\n            item.inspecao1 = '';\r\n            this.limpaX1 = false;\r\n        } else {\r\n            this.limpaX1 = true;\r\n        }\r\n        item.inspecao2 = \"\";\r\n    }\r\n\r\n    verificaLimparRA2(item: ItemInspecao) {\r\n        this.limpaX2 = false;\r\n        if (this.limpaRA2) {\r\n            item.inspecao2 = '';\r\n            this.limpaRA2 = false;\r\n        } else {\r\n            this.limpaRA2 = true;\r\n        }\r\n    }\r\n\r\n    verificaLimparX2(item: ItemInspecao) {\r\n        this.limpaRA2 = false;\r\n        if (this.limpaX2) {\r\n            item.inspecao2 = '';\r\n            this.limpaX2 = false;\r\n        } else {\r\n            this.limpaX2 = true;\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/verificacao/realizar/realizar-verificacao.ts"],"sourceRoot":""}